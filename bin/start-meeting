#! /usr/bin/python3

import sys, os, types
sys.path.insert(0, os.path.join(os.path.dirname(__file__), "..", "app", "subapps", "khplayer"))
from zoom import start_meeting

# Load the Flask configuration file
config = types.ModuleType("config")
config.__file__ = os.path.join(os.path.dirname(__file__), "..", "instance", "config.py")
with open(config.__file__, mode="rb") as config_file:
	exec(compile(config_file.read(), config.__file__, "exec"), config.__dict__)

def progress_callback(message):
	print(message)

start_meeting(config.ZOOM, "/dev/stdout", progress_callback)
