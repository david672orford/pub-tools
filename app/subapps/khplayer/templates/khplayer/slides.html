{% set title = gettext("Speaker's Slide Loader") %}
{% extends "khplayer/base.html" %}
{% import "khplayer/lib.html" as lib -%}

{% block main %}
<section>
<form action="download" method="POST">
<table class="borders selection">
<thead>
<tr>
	<th></th>
	<th>{{gettext("Scene Name")}}</th>
	<th>{{gettext("Preview")}}</th>
</tr>
</thead>
<tbody>
{% for file in files %}
<tr>
	<td><input type="checkbox" name="selected" value="{{ file.id }}" checked></td>
	<td><input type="text" name="scenename-{{ file.id }}" value="{{ file.filename }}"></td>
	<td><div class="thumbnail large">
		<img src="{{file.thumbnail_url}}" referrerpolicy="no-referrer">
	</div></td>
</tr>
{% endfor %}
</tbody>
</table>
<div class="borderless-box">
	<button class="add" type="submit">{{gettext("Load Selected Slides into OBS")}}</button>
	<a href="."><button class="reload">{{gettext("Reload")}}</button></a>
	{% if not form %}
	<a href=".?action=configuration"><button class="config">{{gettext("Configuration")}}</button></a>
	{% endif %}
</div>
</form>
</section>

{% if config is not none %}
<form action="save-config" method="POST">
<section class="bordered-box">
<h2>{{gettext("Configuration")}}</h2>
{{lib.render_input_text(_("Google Drive Sharing URL"), "url", config["url"], class="long-url")}}
<button type="submit">{{gettext("Save")}}</button>
<a href="."><button class="config">{{gettext("Cancel")}}</button></a>
</section>
</form>
{% endif %}

{% endblock %}
