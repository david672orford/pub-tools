{% set title = gettext("Speaker's Slide Loader") %}
{% extends "khplayer/base.html" %}
{% import "khplayer/lib.html" as lib -%}

{% block main %}
<section>
<form action="load" method="POST">
<table class="borders">
<thead>
<tr>
	<th></th>
	<th>{{gettext("Scene Name")}}</th>
	<th>{{gettext("Preview")}}</th>
</tr>
</thead>
<tbody>
{% for file in files %}
<tr>
	<td><input type="checkbox" name="selected" value="{{ file.id }}" checked></td>
	<td><input name="scenename-{{ file.id }}" value="{{ file.filename }}"></td>
	<td><img style="width: 10em" src="{{file.thumbnail_url}}"></td>
</tr>
{% endfor %}
</tbody>
</table>
<p>
	<a href="."><button>{{gettext("Reload")}}</button></a>
	<button type="submit">{{gettext("Load Selected Slides into OBS")}}</button>
</p>
</form>
</section>

{% if form %}
<section class="bordered">
<h2>{{gettext("Configuration")}}</h2>
<form action="save-config" method="POST">
{{lib.render_field(form.GDRIVE_url, size=70)}}
<button type="submit">{{gettext("Save")}}</button>
<a href="."><button>{{gettext("Cancel")}}</button></a>
</form>
</section>
{% else %}
<section>
	<a href=".?action=configuration"><button>{{gettext("Configuration")}}</button></a>
</section>
{% endif %}
{% endblock %}
