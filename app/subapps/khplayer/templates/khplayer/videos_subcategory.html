{% set title = gettext("Videos: {category} â€” {subcategory}").format(category=subcategory.category_name, subcategory=subcategory.subcategory_name) %}
{% extends "khplayer/base.html" %}

{% block header %}
	<h1>
		<a href="../..">
		<div style="float: left; font-size: 200%; margin-right: 10px;">&lt;</div>
		{{ subcategory.category_name }}
		<br>
		{{ subcategory.subcategory_name }}
		</a>
	</h1>
{% endblock %}

{% block main %}
<section>

<form action="load-video" method="POST">
<ul>
{% for video in subcategory.videos | sort(attribute="date", reverse=True) %}
<li><button type="submit" name="lank" value="{{video.lank|urlencode}}">{{video.name}}</button></li>
{% endfor %}
</ul>
<input id="title" type="hidden" name="title">
</form>

<script>
function button_click(event) {
	document.getElementById("title").value = event.target.textContent;
	}
let buttons = document.getElementsByTagName("button");
for(let i=0; i < buttons.length; i++) {
	buttons[i].addEventListener("click", button_click);
	}
</script>

<form action="update" method="POST">
<p><button type="submit" name="update" value="1">{{gettext("Update Category")}}</button></p>
</form>

</section>
{% endblock %}
